{"version":3,"sources":["controllers/dashboard.controller.ts"],"names":[],"mappings":"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","file":"controllers/dashboard.controller.js","sourcesContent":["namespace proafsolutions.chat {\r\n\r\n    interface ModalScope extends ng.IScope {\r\n        name: string;\r\n        room: string;\r\n        $modalController: ionic.modal.IonicModalController;        \r\n        close: () => void;\r\n        join: () => void;\r\n    }\r\n\r\n    interface IDashboardController {     \r\n        initNewRoomModal(): void;\r\n    }\r\n\r\n    export class DashboardController implements IDashboardController {\r\n\r\n        public $inject = ['$scope', '$location', '$ionicModal', '$cordovaNativeAudio'];\r\n\r\n        constructor(private $scope: ModalScope,\r\n                    private $location: angular.ILocationService,\r\n                    private $ionicModal: ionic.modal.IonicModalService,\r\n                    private $cordovaNativeAudio: any) {\r\n           this.init();\r\n        }\r\n\r\n        init() {\r\n           this.initSounds();\r\n           this.initNewRoomModal();\r\n        }\r\n\r\n        private initSounds(): void {\r\n            if (AppSettings.CURRENT_RUN_MODE == RUN_MODE.MOBILE) {\r\n                this.$cordovaNativeAudio.preloadSimple('welcome', 'sounds/welcome.mp3');\r\n                this.$cordovaNativeAudio.preloadSimple('send', 'sounds/send.mp3');\r\n                this.$cordovaNativeAudio.preloadSimple('receive', 'sounds/receive.mp3');\r\n            }\r\n        }\r\n\r\n        public initNewRoomModal(): void {\r\n\r\n            var _self = this;\r\n\r\n            this.$ionicModal.fromTemplateUrl(\"templates/popup-new-talk.html\", {\r\n                scope: this.$scope,\r\n                animation: 'slide-in-up'\r\n            }).then((modalController: ionic.modal.IonicModalController) => {\r\n                _self.$scope.$modalController = modalController;\r\n            });\r\n\r\n            this.$scope.name = AppSettings.ADMIN_CODE;\r\n            this.$scope.room = '';\r\n\r\n            this.$scope.join = () => {              \r\n                _self.$location.path('/tab/chats/' + _self.$scope.name + '/' + _self.$scope.room);\r\n                _self.$scope.$modalController.hide();\r\n            };\r\n\r\n            this.$scope.close = () => {\r\n                _self.$scope.$modalController.hide();\r\n            };\r\n\r\n            // Cleanup the modal when we're done with it!\r\n            this.$scope.$on('$destroy', () => {\r\n                _self.$scope.$modalController.remove();\r\n            });\r\n\r\n            // Execute action on hide modal\r\n            this.$scope.$on('modal.hidden', () => {\r\n                // Execute action\r\n            });\r\n\r\n            // Execute action on remove modal\r\n            this.$scope.$on('modal.removed', () => {\r\n                // Execute action\r\n            });\r\n        }\r\n\r\n       public showModalClick(): void {\r\n            this.$scope.$modalController.show();\r\n       };\r\n        \r\n    }\r\n\r\n    angular.module(\"proafsolutions\").controller(\"DashboardController\", DashboardController);\r\n\r\n}"],"sourceRoot":"C:\\Alex\\Git\\ProAFSolutions\\ProAFSolutions.IonicChatClient\\app"}